---
// MainNav.astro
---

<nav class="main-nav">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/bikes">Bikes</a></li>
    <li><a href="/about">About</a></li>
  </ul>
</nav>

<style lang="scss">
  nav {
    width: fit-content;
    padding: 0 0.5em;
    background: var(--yellow);
    align-self: center;
    justify-self: flex-end;
    border-radius: 24px;
    z-index: 2;
    grid-column: 1;
    grid-row: 1;
    &::after {
      content: "";
      border-radius: 8px;
      background-color: var(--teal);

      width: 10px;

      position: absolute;
    }
    &:has(a:hover) {
      &::after {
        /*       background-color:red; */
      }
    }

    > ul {
      padding: 0;
      margin: 0;
      list-style: none;
      display: flex;
      flex-direction: column;
      // gap: 0.5em;
    }

    a {
      display: block;
      padding: 0.5em;

      color: var(--teal);
      position: relative;
      z-index: 2;
      transition: color 150ms;
       transition-delay: 250ms;
      &::after {
        position: absolute;
        width: 0;
        height: 100%;
        top: 0;
        left: 0;
        right: 0;
        background-color: var(--teal);
        content: "";
        z-index: -1;
        border-radius: 8px;
        transition: width 150ms;
         transition-delay: 250ms;
      }
    }

    a:hover {
      color: var(--yellow);
      &::after {
        width: 100%;
      }
    }
  }
  @supports (anchor-name: --nav) {
    nav {
      anchor-name: --nav;
      &::after {
        position-anchor: --nav;
        left: anchor(left);
        top: anchor(top);
        bottom: anchor(bottom);
        right: anchor(right);
        transition: inset 250ms;
       
      }
      a:hover {
        anchor-name: --nav;
      }
    }
  }
</style>
